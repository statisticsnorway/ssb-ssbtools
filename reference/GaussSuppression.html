<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Secondary suppression by Gaussian elimination — GaussSuppression • SSBtools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Secondary suppression by Gaussian elimination — GaussSuppression"><meta name="description" content="Sequentially the secondary suppression candidates (columns in x) are used to reduce the x-matrix by Gaussian elimination.
Candidates who completely eliminate one or more primary suppressed cells (columns in x) are omitted and made secondary suppressed.
This ensures that the primary suppressed cells do not depend linearly on the non-suppressed cells.
How to order the input candidates is an important choice.
The singleton problem and the related problem of zeros are also handled."><meta property="og:description" content="Sequentially the secondary suppression candidates (columns in x) are used to reduce the x-matrix by Gaussian elimination.
Candidates who completely eliminate one or more primary suppressed cells (columns in x) are omitted and made secondary suppressed.
This ensures that the primary suppressed cells do not depend linearly on the non-suppressed cells.
How to order the input candidates is an important choice.
The singleton problem and the related problem of zeros are also handled."><meta property="og:image" content="https://statisticsnorway.github.io/ssb-ssbtools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SSBtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/statisticsnorway/ssb-ssbtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Secondary suppression by Gaussian elimination</h1>
      <small class="dont-index">Source: <a href="https://github.com/statisticsnorway/ssb-ssbtools/blob/master/R/GaussSuppression.R" class="external-link"><code>R/GaussSuppression.R</code></a></small>
      <div class="d-none name"><code>GaussSuppression.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Sequentially the secondary suppression candidates (columns in x) are used to reduce the x-matrix by Gaussian elimination.
Candidates who completely eliminate one or more primary suppressed cells (columns in x) are omitted and made secondary suppressed.
This ensures that the primary suppressed cells do not depend linearly on the non-suppressed cells.
How to order the input candidates is an important choice.
The singleton problem and the related problem of zeros are also handled.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">GaussSuppression</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  candidates <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,</span>
<span>  primary <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  forced <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hidden <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  singleton <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  singletonMethod <span class="op">=</span> <span class="st">"anySum"</span>,</span>
<span>  printInc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  tolGauss <span class="op">=</span> <span class="op">(</span><span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>  whenEmptySuppressed <span class="op">=</span> <span class="va">warning</span>,</span>
<span>  whenEmptyUnsuppressed <span class="op">=</span> <span class="va">message</span>,</span>
<span>  whenPrimaryForced <span class="op">=</span> <span class="va">warning</span>,</span>
<span>  removeDuplicated <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  iFunction <span class="op">=</span> <span class="va">GaussIterationFunction</span>,</span>
<span>  iWait <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  xExtraPrimary <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unsafeAsNegative <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  printXdim <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cell_grouping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  table_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  auto_anySumNOTprimary <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  auto_subSumAny <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Matrix that relates cells to be published or suppressed to inner cells. yPublish = crossprod(x,yInner)</p></dd>


<dt id="arg-candidates">candidates<a class="anchor" aria-label="anchor" href="#arg-candidates"></a></dt>
<dd><p>Indices of candidates for secondary suppression</p></dd>


<dt id="arg-primary">primary<a class="anchor" aria-label="anchor" href="#arg-primary"></a></dt>
<dd><p>Indices of primary suppressed cells</p></dd>


<dt id="arg-forced">forced<a class="anchor" aria-label="anchor" href="#arg-forced"></a></dt>
<dd><p>Indices forced to be not suppressed. <code>forced</code> has precedence over <code>primary</code>. See <code>whenPrimaryForced</code> below.</p></dd>


<dt id="arg-hidden">hidden<a class="anchor" aria-label="anchor" href="#arg-hidden"></a></dt>
<dd><p>Indices to be removed from the above <code>candidates</code> input (see details)</p></dd>


<dt id="arg-singleton">singleton<a class="anchor" aria-label="anchor" href="#arg-singleton"></a></dt>
<dd><p>Logical or integer vector of length <code>nrow(x)</code> specifying inner cells for singleton handling.
Normally, for frequency tables, this means cells with 1s when 0s are non-suppressed and cells with 0s when 0s are suppressed.
For some singleton methods, integer values representing the unique magnitude table contributors are needed.
For all other singleton methods, only the values after conversion with <code>as.logical</code> matter.</p></dd>


<dt id="arg-singletonmethod">singletonMethod<a class="anchor" aria-label="anchor" href="#arg-singletonmethod"></a></dt>
<dd><p>Method for handling the problem of singletons and zeros:
<code>"anySum"</code> (default), <code>"anySum0"</code>, <code>"anySumNOTprimary"</code>, <code>"subSum"</code>, <code>"subSpace"</code>, <code>"sub2Sum"</code>, <code>"none"</code>
or a <code><a href="NumSingleton.html">NumSingleton</a></code> method (see details).</p></dd>


<dt id="arg-printinc">printInc<a class="anchor" aria-label="anchor" href="#arg-printinc"></a></dt>
<dd><p>Printing "..." to console when TRUE</p></dd>


<dt id="arg-tolgauss">tolGauss<a class="anchor" aria-label="anchor" href="#arg-tolgauss"></a></dt>
<dd><p>A tolerance parameter for sparse Gaussian elimination and linear dependency. This parameter is used only in cases where integer calculation cannot be used.</p></dd>


<dt id="arg-whenemptysuppressed">whenEmptySuppressed<a class="anchor" aria-label="anchor" href="#arg-whenemptysuppressed"></a></dt>
<dd><p>Function to be called when empty input to primary suppressed cells is problematic. Supply NULL to do nothing.</p></dd>


<dt id="arg-whenemptyunsuppressed">whenEmptyUnsuppressed<a class="anchor" aria-label="anchor" href="#arg-whenemptyunsuppressed"></a></dt>
<dd><p>Function to be called when empty input to candidate cells may be problematic. Supply NULL to do nothing.</p></dd>


<dt id="arg-whenprimaryforced">whenPrimaryForced<a class="anchor" aria-label="anchor" href="#arg-whenprimaryforced"></a></dt>
<dd><p>Function to be called if any forced cells are primary suppressed (suppression will be ignored). Supply NULL to do nothing.
The same function will also be called when there are forced cells marked as singletons (will be ignored).</p></dd>


<dt id="arg-removeduplicated">removeDuplicated<a class="anchor" aria-label="anchor" href="#arg-removeduplicated"></a></dt>
<dd><p>Specifies whether to remove duplicated columns and rows in <code>x</code> before running the main algorithm.
Removing duplicates results in a faster algorithm while generally maintaining the same results.
In some cases, singleton handling for magnitude tables may be affected.
In such cases, singleton handling will generally be improved.
Singletons are considered when removing duplicate rows, so not all duplicates are removed.
The available options for <code>removeDuplicated</code> are as follows:</p><ul><li><p><code>TRUE</code> (default): Removes both duplicate columns and rows.</p></li>
<li><p><code>FALSE</code>: No removal of duplicates.</p></li>
<li><p><code>"cols"</code>: Removes only duplicate columns.</p></li>
<li><p><code>"rows"</code>: Removes only duplicate rows.</p></li>
<li><p><code>"rows2"</code>: Removes only duplicate non-singleton rows in a way that preserves singleton handling.</p></li>
<li><p>Combined possibilities: Variants can be combined with "_". For example,
<code>"cols_rows"</code> is equivalent to <code>TRUE</code>,
and <code>"cols_rows2"</code> represents an alternative variant. Combining <code>"rows"</code> and <code>"rows2"</code> is possible, but superfluous calculations are then performed.</p></li>
<li><p><code>"test"</code>: A special variant for testing purposes. The four configurations <code>TRUE</code>, <code>FALSE</code>, <code>"cols_rows2"</code>, and <code>"rows"</code> are executed.</p></li>
</ul></dd>


<dt id="arg-ifunction">iFunction<a class="anchor" aria-label="anchor" href="#arg-ifunction"></a></dt>
<dd><p>A function to be called during the iterations. See the default function, <code><a href="GaussIterationFunction.html">GaussIterationFunction</a></code>, for description of parameters.</p></dd>


<dt id="arg-iwait">iWait<a class="anchor" aria-label="anchor" href="#arg-iwait"></a></dt>
<dd><p>The minimum number of seconds between each call to <code>iFunction</code>.
Whenever <code>iWait&lt;Inf</code>, <code>iFunction</code> will also be called after last iteration.</p></dd>


<dt id="arg-xextraprimary">xExtraPrimary<a class="anchor" aria-label="anchor" href="#arg-xextraprimary"></a></dt>
<dd><p>Extra x-matrix that defines extra primary suppressed cells in addition to those defined by other inputs.</p></dd>


<dt id="arg-unsafeasnegative">unsafeAsNegative<a class="anchor" aria-label="anchor" href="#arg-unsafeasnegative"></a></dt>
<dd><p>When <code>TRUE</code>, unsafe primary cells due to forced cells are included in the output vector as negative indices.</p></dd>


<dt id="arg-printxdim">printXdim<a class="anchor" aria-label="anchor" href="#arg-printxdim"></a></dt>
<dd><p>When set to <code>TRUE</code>, the <code>printInc</code> parameter is also automatically set to <code>TRUE</code>.
Additionally, the dimensions of the <code>x</code> matrix are printed twice:
first, the dimensions of the input <code>x</code>, potentially extended with <code>xExtraPrimary</code>;
second, the dimensions after applying <code>singletonMethod</code> and <code>removeDuplicated</code>.</p></dd>


<dt id="arg-cell-grouping">cell_grouping<a class="anchor" aria-label="anchor" href="#arg-cell-grouping"></a></dt>
<dd><p>Numeric vector indicating suppression group membership.
Cells with the same non-zero value belong to the same suppression group,
meaning they will be suppressed or non-suppressed together.
A value of 0 indicates that the cell is not a member of any suppression group.</p></dd>


<dt id="arg-table-id">table_id<a class="anchor" aria-label="anchor" href="#arg-table-id"></a></dt>
<dd><p>A parameter that can be provided in addition to <code>cell_grouping</code> to reduce computation time,
when <code>x</code> is a block-diagonal matrix. Each block represents a separate table, and <code>table_id</code>
indicates table affiliation.
Note: no check is performed to verify that <code>table_id</code> corresponds to the block structure of <code>x</code>.</p></dd>


<dt id="arg-auto-anysumnotprimary">auto_anySumNOTprimary<a class="anchor" aria-label="anchor" href="#arg-auto-anysumnotprimary"></a></dt>
<dd><p>When <code>TRUE</code> (default), the <code>singletonMethod</code> <code>"anySumNOTprimary"</code> may be
forced if a check indicates that singletons are not primary suppressed.
Set this to <code>FALSE</code> in cases where the <code>x</code> matrix has already undergone
duplicate row removal, as the check may then produce incorrect results.</p></dd>


<dt id="arg-auto-subsumany">auto_subSumAny<a class="anchor" aria-label="anchor" href="#arg-auto-subsumany"></a></dt>
<dd><p>When <code>TRUE</code> (default), and <code>singletonMethod</code> is <code>"anySum"</code>,
it is internally changed to <code>"subSumAny"</code> if there are forced cells.
This is done to give information about unsafe cells.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Extra unused parameters</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Secondary suppression indices</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It is possible to specify too many (all) indices as <code>candidates</code>.
Indices specified as <code>primary</code> or <code>hidded</code> will be removed.
Hidden indices (not candidates or primary) refer to cells that will not be published, but do not need protection.</p><ul><li><p><strong>Singleton methods for frequency tables:</strong>
All singleton methods, except <code>"sub2Sum"</code> and the <code><a href="NumSingleton.html">NumSingleton</a></code> methods, have been implemented with frequency tables in mind.
The singleton method <code>"subSum"</code> makes new virtual primary suppressed cells, which are the sum of the singletons
within each group. The <code>"subSpace"</code> method is conservative and ignores the singleton dimensions when looking for
linear dependency. The default method, <code>"anySum"</code>, is between the other two. Instead of making virtual cells of
sums within groups, the aim is to handle all possible sums, also across groups. In addition, <code>"subSumSpace"</code>  and
<code>"subSumAny"</code> are possible methods, primarily for testing. These methods are similar to <code>"subSpace"</code> and <code>"anySum"</code>,
and additional cells are created as in <code>"subSum"</code>. It is believed that the extra cells are redundant.
Note that in order to give information about unsafe cells, <code>"anySum"</code>  is internally changed to <code>"subSumAny"</code> when there are forced cells.
All the above methods assume that any published singletons are primary suppressed.
If this is not the case, either <code>"anySumNOTprimary"</code> or <code>"anySum0"</code> must be used.
Notably, <code>"anySum0"</code> is an enhancement of <code>"anySumNOTprimary"</code> for situations where zeros are singletons.
Using that method avoids suppressing a zero marginal along with only one of its children.</p></li>
<li><p><strong>Singleton methods for magnitude tables:</strong>
The singleton method <code>"sub2Sum"</code> makes new virtual primary suppressed cells, which are the sum of two inner cells.
This is done when a group contains exactly two primary suppressed inner cells provided that at least one of them is singleton.
This was the first method implemented. Other magnitude methods follow the coding according to <code><a href="NumSingleton.html">NumSingleton</a></code>.
The <code>"sub2Sum"</code> method is equivalent to <code>"numFFT"</code>.
Also note that <code>"num"</code>, <code>"numFFF"</code> and <code>"numFTF"</code> are equivalent to <code>"none"</code>.</p></li>
<li><p><strong>Combined:</strong>
For advanced use, <code>singleton</code> can be a two-element list with names <code>"freq"</code> and <code>"num"</code>.
Then <code>singletonMethod</code> must be a corresponding named two-element vector.
For example: <code>singletonMethod = c(freq = "anySumNOTprimary", num = "sub2Sum")</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Langsrud, Ø. (2024):
“Secondary Cell Suppression by Gaussian Elimination: An Algorithm Suitable for Handling Issues with Zeros and Singletons”.
Presented at: <em>Privacy in statistical databases</em>, Antibes, France. September 25-27, 2024.
<a href="https://doi.org/10.1007/978-3-031-69651-0_6" class="external-link">doi:10.1007/978-3-031-69651-0_6</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Input data</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">9</span>, <span class="fl">9</span>, <span class="fl">9</span>, <span class="fl">9</span>, <span class="fl">9</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">7</span>, <span class="fl">7</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                 var1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, each <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                 var2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span><span class="op">)</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make output data frame and x </span></span></span>
<span class="r-in"><span><span class="va">fs</span> <span class="op">&lt;-</span> <span class="fu"><a href="FormulaSums.html">FormulaSums</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">values</span> <span class="op">~</span> <span class="va">var1</span> <span class="op">*</span> <span class="va">var2</span>, crossTable <span class="op">=</span> <span class="cn">TRUE</span>, makeModelMatrix <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">fs</span><span class="op">$</span><span class="va">modelMatrix</span></span></span>
<span class="r-in"><span><span class="va">datF</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">fs</span><span class="op">$</span><span class="va">crossTable</span>, values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">fs</span><span class="op">$</span><span class="va">allSums</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add primary suppression </span></span></span>
<span class="r-in"><span><span class="va">datF</span><span class="op">$</span><span class="va">primary</span> <span class="op">&lt;-</span> <span class="va">datF</span><span class="op">$</span><span class="va">values</span></span></span>
<span class="r-in"><span><span class="va">datF</span><span class="op">$</span><span class="va">primary</span><span class="op">[</span><span class="va">datF</span><span class="op">$</span><span class="va">values</span> <span class="op">&lt;</span> <span class="fl">5</span> <span class="op">&amp;</span> <span class="va">datF</span><span class="op">$</span><span class="va">values</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">datF</span><span class="op">$</span><span class="va">suppressedA</span> <span class="op">&lt;-</span> <span class="va">datF</span><span class="op">$</span><span class="va">primary</span></span></span>
<span class="r-in"><span><span class="va">datF</span><span class="op">$</span><span class="va">suppressedB</span> <span class="op">&lt;-</span> <span class="va">datF</span><span class="op">$</span><span class="va">primary</span></span></span>
<span class="r-in"><span><span class="va">datF</span><span class="op">$</span><span class="va">suppressedC</span> <span class="op">&lt;-</span> <span class="va">datF</span><span class="op">$</span><span class="va">primary</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># zero secondary suppressed</span></span></span>
<span class="r-in"><span><span class="va">datF</span><span class="op">$</span><span class="va">suppressedA</span><span class="op">[</span><span class="fu">GaussSuppression</span><span class="op">(</span><span class="va">x</span>, primary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">primary</span><span class="op">)</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GaussSuppression_anySum: .....................</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># zero not secondary suppressed by first in ordering</span></span></span>
<span class="r-in"><span><span class="va">datF</span><span class="op">$</span><span class="va">suppressedB</span><span class="op">[</span><span class="fu">GaussSuppression</span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">values</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">values</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                            primary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">primary</span><span class="op">)</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GaussSuppression_anySum: .....................</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># with singleton</span></span></span>
<span class="r-in"><span><span class="va">datF</span><span class="op">$</span><span class="va">suppressedC</span><span class="op">[</span><span class="fu">GaussSuppression</span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">values</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">values</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                            primary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">primary</span><span class="op">)</span>, singleton <span class="op">=</span> <span class="va">df</span><span class="op">$</span><span class="va">values</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GaussSuppression_anySum: .....................</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">datF</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     var1  var2 values primary suppressedA suppressedB suppressedC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Total Total     72      72          72          72          72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      1 Total     13      13          13          13          13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      2 Total     45      45          45          45          45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      3 Total     14      14          14          14          14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Total     A     10      10          10          10          10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  Total     B     10      10          10          10          10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  Total     C     10      10          10          10          10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  Total     D     21      21          21          21          21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  Total     E     21      21          21          21          21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     1     A      1      NA          NA          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     1     B      1      NA          NA          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     1     C      1      NA          NA          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     1     D      5       5           5           5           5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     1     E      5       5           5           5          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     2     A      9       9           9          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     2     B      9       9           9          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     2     C      9       9           9          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     2     D      9       9           9           9           9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19     2     E      9       9           9           9          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20     3     A      0       0          NA           0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21     3     B      0       0          NA           0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22     3     C      0       0          NA           0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23     3     D      7       7           7           7           7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24     3     E      7       7           7           7           7</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### with cell_grouping</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">candidates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">values</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">datF</span><span class="op">$</span><span class="va">values</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">primary</span> <span class="op">&lt;-</span> <span class="fl">10</span><span class="op">:</span><span class="fl">12</span></span></span>
<span class="r-in"><span><span class="va">cell_grouping</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">24</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same as without cell_grouping</span></span></span>
<span class="r-in"><span><span class="fu">GaussSuppression</span><span class="op">(</span><span class="va">x</span>, <span class="va">candidates</span>, <span class="va">primary</span>, cell_grouping <span class="op">=</span> <span class="va">cell_grouping</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GaussSuppression_anySum: .....................</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 15 16 17</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cell_grouping</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">20</span><span class="op">:</span><span class="fl">21</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">cell_grouping</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">2</span>  <span class="co"># 10 is primary</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">GaussSuppression</span><span class="op">(</span><span class="va">x</span>, <span class="va">candidates</span>, <span class="va">primary</span>, cell_grouping <span class="op">=</span> <span class="va">cell_grouping</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GaussSuppression_anySum: ....................</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  3  4  6  9 15 17 24</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Øyvind Langsrud, Daniel Lupp.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

