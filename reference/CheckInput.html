<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Checking function inputs — CheckInput • SSBtools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Checking function inputs — CheckInput"><meta name="description" content="An input vector (of length one unless okSeveral is TRUE) is checked."><meta property="og:description" content="An input vector (of length one unless okSeveral is TRUE) is checked."><meta property="og:image" content="https://statisticsnorway.github.io/ssb-ssbtools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SSBtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/statisticsnorway/ssb-ssbtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Checking function inputs</h1>
      <small class="dont-index">Source: <a href="https://github.com/statisticsnorway/ssb-ssbtools/blob/master/R/CheckInput.r" class="external-link"><code>R/CheckInput.r</code></a></small>
      <div class="d-none name"><code>CheckInput.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An input vector (of length one unless <code>okSeveral</code> is <code>TRUE</code>) is checked.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">CheckInput</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  alt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  okSeveral <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  okNULL <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  okNA <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  okDuplicates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">alt</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="op">(</span><span class="va">type</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"varName"</span>, <span class="st">"varNr"</span>, <span class="st">"varNrName"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_input</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  alt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  okSeveral <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  okNULL <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  okNA <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  okDuplicates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">alt</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="op">(</span><span class="va">type</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"varName"</span>, <span class="st">"varNr"</span>, <span class="st">"varNrName"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Input vector to be checked</p></dd>


<dt id="arg-alt">alt<a class="anchor" aria-label="anchor" href="#arg-alt"></a></dt>
<dd><p><code>NULL</code> or vector of allowed values</p></dd>


<dt id="arg-min">min<a class="anchor" aria-label="anchor" href="#arg-min"></a></dt>
<dd><p><code>NULL</code> or minimum value (when <code>type</code> is numeric or integer)</p></dd>


<dt id="arg-max">max<a class="anchor" aria-label="anchor" href="#arg-max"></a></dt>
<dd><p><code>NULL</code> or maximum value (when <code>type</code> is numeric or integer)</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>One of: <code>"character"</code>, <code>"numeric"</code>, <code>"integer"</code>, <code>"logical"</code>, <code>"varName"</code>, <code>"varNr"</code>, <code>"varNrName"</code>.
numeric/integer is not checked against exact class, but whether the value fit into the class.
Also see data below.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame or matrix. When above type is <code>varNames</code>, <code>x</code> is checked against <code>colnames(data)</code>.
When type is <code>varNr</code>, <code>x</code> is checked against column numbers.
When type is <code>varNrName</code>, <code>x</code> can be either column numbers or column names.</p></dd>


<dt id="arg-okseveral">okSeveral<a class="anchor" aria-label="anchor" href="#arg-okseveral"></a></dt>
<dd><p>When <code>TRUE</code>, <code>length(x)&gt;1</code> is allowed</p></dd>


<dt id="arg-oknull">okNULL<a class="anchor" aria-label="anchor" href="#arg-oknull"></a></dt>
<dd><p>When <code>TRUE</code>, <code>NULL</code> is allowed</p></dd>


<dt id="arg-okna">okNA<a class="anchor" aria-label="anchor" href="#arg-okna"></a></dt>
<dd><p>When <code>TRUE</code>, <code>NA</code> is allowed</p></dd>


<dt id="arg-okduplicates">okDuplicates<a class="anchor" aria-label="anchor" href="#arg-okduplicates"></a></dt>
<dd><p>When <code>TRUE</code>, duplicated values are allowed.
Default is <code>TRUE</code> if <code>alt</code> is <code>NULL</code> and if <code>type</code> does not refer to column(s) of <code>data</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>x</code> is checked according to the other input parameters.
When <code>x</code> is wrong an error is produced with appropriate text.</p>
<p><em>The function was originally created in 2016 and has been included in
internal packages at Statistics Norway (SSB). Due to its widespread use,
it was beneficial to include it in this CRAN package.</em></p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p><code>check_input</code> and <code>CheckInput</code> are identical</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Øyvind Langsrud</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"yes"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.14</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>A <span class="op">=</span> <span class="va">a</span>, B <span class="op">=</span> <span class="va">b</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, C <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Lines causing error are embedded in 'try'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="va">a</span>, type <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput(a, type = "character") : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a : Input must be of length 1</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="va">a</span>, type <span class="op">=</span> <span class="st">"character"</span>, alt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"dontknow"</span><span class="op">)</span>, okSeveral <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="st">"yesno"</span>, type <span class="op">=</span> <span class="st">"character"</span>, alt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"dontknow"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput("yesno", type = "character", alt = c("no", "yes",  : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "yesno" : Input must be in: no, yes, dontknow</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="va">a</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"character"</span>, alt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"dontknow"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="va">b</span>, type <span class="op">=</span> <span class="st">"integer"</span>, max <span class="op">=</span> <span class="fl">100</span>, okSeveral <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput(b, type = "integer", max = 100, okSeveral = TRUE) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   b : Input is not in accordance with integer</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="va">b</span>, type <span class="op">=</span> <span class="st">"numeric"</span>, min <span class="op">=</span> <span class="fl">4</span>, okSeveral <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput(b, type = "numeric", min = 4, okSeveral = TRUE) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   b : Input must be within the interval [ 4 , Inf ]</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="va">b</span>, type <span class="op">=</span> <span class="st">"numeric"</span>, max <span class="op">=</span> <span class="fl">100</span>, okSeveral <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="va">b</span>, type <span class="op">=</span> <span class="st">"numeric"</span>, alt <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, okSeveral <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput(b, type = "numeric", alt = 1:10, okSeveral = TRUE) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   b : Input must be in: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="va">b</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"numeric"</span>, alt <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="st">"TRUE"</span>, type <span class="op">=</span> <span class="st">"logical"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput("TRUE", type = "logical") : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "TRUE" : Input must be logical</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">"logical"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="st">"A"</span>, type <span class="op">=</span> <span class="st">"varName"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput("A", type = "varName") : "A" : data missing</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="st">"A"</span>, type <span class="op">=</span> <span class="st">"varName"</span>, data <span class="op">=</span> <span class="va">z</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"varNrName"</span>, data <span class="op">=</span> <span class="va">z</span>, okSeveral <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="st">"ABC"</span>, type <span class="op">=</span> <span class="st">"varNrName"</span>, data <span class="op">=</span> <span class="va">z</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput("ABC", type = "varNrName", data = z) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "ABC" : Input must be in: A, B, C</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">CheckInput</span><span class="op">(</span><span class="fl">5</span>, type <span class="op">=</span> <span class="st">"varNrName"</span>, data <span class="op">=</span> <span class="va">z</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in CheckInput(5, type = "varNrName", data = z) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5 : Input must be within the interval [ 1 , 3 ]</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="fl">3</span>, type <span class="op">=</span> <span class="st">"varNr"</span>, data <span class="op">=</span> <span class="va">z</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="fu">CheckInput</span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, type <span class="op">=</span> <span class="st">"varNr"</span>, data <span class="op">=</span> <span class="va">z</span>, okSeveral <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Øyvind Langsrud, Daniel Lupp.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

